var graphlib=(()=>{var ye=Object.defineProperty;var Ne=(s,e,r)=>e in s?ye(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var d=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var c=(s,e,r)=>Ne(s,typeof e!="symbol"?e+"":e,r);var w=d((cr,T)=>{"use strict";var je="\0",v="\0",D="",O=class{constructor(e){c(this,"_isDirected",!0);c(this,"_isMultigraph",!1);c(this,"_isCompound",!1);c(this,"_label");c(this,"_defaultNodeLabelFn",()=>{});c(this,"_defaultEdgeLabelFn",()=>{});c(this,"_nodes",{});c(this,"_in",{});c(this,"_preds",{});c(this,"_out",{});c(this,"_sucs",{});c(this,"_edgeObjs",{});c(this,"_edgeLabels",{});c(this,"_nodeCount",0);c(this,"_edgeCount",0);c(this,"_parent");c(this,"_children");e&&(this._isDirected=Object.hasOwn(e,"directed")?e.directed:!0,this._isMultigraph=Object.hasOwn(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.hasOwn(e,"compound")?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[v]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!="function"&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(r=>Object.keys(e._in[r]).length===0)}sinks(){var e=this;return this.nodes().filter(r=>Object.keys(e._out[r]).length===0)}setNodes(e,r){var t=arguments,i=this;return e.forEach(function(n){t.length>1?i.setNode(n,r):i.setNode(n)}),this}setNode(e,r){return Object.hasOwn(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=v,this._children[e]={},this._children[v][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.hasOwn(this._nodes,e)}removeNode(e){var r=this;if(Object.hasOwn(this._nodes,e)){var t=i=>r.removeEdge(r._edgeObjs[i]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(i){r.setParent(i)}),delete this._children[e]),Object.keys(this._in[e]).forEach(t),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r===void 0)r=v;else{r+="";for(var t=r;t!==void 0;t=this.parent(t))if(t===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==v)return r}}children(e=v){if(this._isCompound){var r=this._children[e];if(r)return Object.keys(r)}else{if(e===v)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return Object.keys(r)}successors(e){var r=this._sucs[e];if(r)return Object.keys(r)}neighbors(e){var r=this.predecessors(e);if(r){let i=new Set(r);for(var t of this.successors(e))i.add(t);return Array.from(i.values())}}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var t=this;Object.entries(this._nodes).forEach(function([a,o]){e(a)&&r.setNode(a,o)}),Object.values(this._edgeObjs).forEach(function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,t.edge(a))});var i={};function n(a){var o=t.parent(a);return o===void 0||r.hasNode(o)?(i[a]=o,o):o in i?i[o]:n(o)}return this._isCompound&&r.nodes().forEach(a=>r.setParent(a,n(a))),r}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!="function"&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,r){var t=this,i=arguments;return e.reduce(function(n,a){return i.length>1?t.setEdge(n,a,r):t.setEdge(n,a),a}),this}setEdge(){var e,r,t,i,n=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,t=a.name,arguments.length===2&&(i=arguments[1],n=!0)):(e=a,r=arguments[1],t=arguments[3],arguments.length>2&&(i=arguments[2],n=!0)),e=""+e,r=""+r,t!==void 0&&(t=""+t);var o=E(this._isDirected,e,r,t);if(Object.hasOwn(this._edgeLabels,o))return n&&(this._edgeLabels[o]=i),this;if(t!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=n?i:this._defaultEdgeLabelFn(e,r,t);var h=Ie(this._isDirected,e,r,t);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[o]=h,L(this._preds[r],e),L(this._sucs[e],r),this._in[r][o]=h,this._out[e][o]=h,this._edgeCount++,this}edge(e,r,t){var i=arguments.length===1?m(this._isDirected,arguments[0]):E(this._isDirected,e,r,t);return this._edgeLabels[i]}edgeAsObj(){let e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,r,t){var i=arguments.length===1?m(this._isDirected,arguments[0]):E(this._isDirected,e,r,t);return Object.hasOwn(this._edgeLabels,i)}removeEdge(e,r,t){var i=arguments.length===1?m(this._isDirected,arguments[0]):E(this._isDirected,e,r,t),n=this._edgeObjs[i];return n&&(e=n.v,r=n.w,delete this._edgeLabels[i],delete this._edgeObjs[i],F(this._preds[r],e),F(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){return this.isDirected()?this.filterEdges(this._in[e],e,r):this.nodeEdges(e,r)}outEdges(e,r){return this.isDirected()?this.filterEdges(this._out[e],e,r):this.nodeEdges(e,r)}nodeEdges(e,r){if(e in this._nodes)return this.filterEdges({...this._in[e],...this._out[e]},e,r)}filterEdges(e,r,t){if(e){var i=Object.values(e);return t?i.filter(function(n){return n.v===r&&n.w===t||n.v===t&&n.w===r}):i}}};function L(s,e){s[e]?s[e]++:s[e]=1}function F(s,e){--s[e]||delete s[e]}function E(s,e,r,t){var i=""+e,n=""+r;if(!s&&i>n){var a=i;i=n,n=a}return i+D+n+D+(t===void 0?je:t)}function Ie(s,e,r,t){var i=""+e,n=""+r;if(!s&&i>n){var a=i;i=n,n=a}var o={v:i,w:n};return t&&(o.name=t),o}function m(s,e){return E(s,e.v,e.w,e.name)}T.exports=O});var P=d((_r,A)=>{A.exports="3.0.2"});var S=d((pr,M)=>{M.exports={Graph:w(),version:P()}});var V=d((vr,G)=>{var ke=w();G.exports={write:xe,read:De};function xe(s){var e={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:Ce(s),edges:qe(s)};return s.graph()!==void 0&&(e.value=structuredClone(s.graph())),e}function Ce(s){return s.nodes().map(function(e){var r=s.node(e),t=s.parent(e),i={v:e};return r!==void 0&&(i.value=r),t!==void 0&&(i.parent=t),i})}function qe(s){return s.edges().map(function(e){var r=s.edge(e),t={v:e.v,w:e.w};return e.name!==void 0&&(t.name=e.name),r!==void 0&&(t.value=r),t})}function De(s){var e=new ke(s.options).setGraph(s.value);return s.nodes.forEach(function(r){e.setNode(r.v,r.value),r.parent&&e.setParent(r.v,r.parent)}),s.edges.forEach(function(r){e.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),e}});var y=d((Er,U)=>{U.exports=Fe;var Le=()=>1;function Fe(s,e,r,t){return Te(s,String(e),r||Le,t||function(i){return s.outEdges(i)})}function Te(s,e,r,t){var i={},n=!0,a=0,o=s.nodes(),h=function(l){var _=r(l);i[l.v].distance+_<i[l.w].distance&&(i[l.w]={distance:i[l.v].distance+_,predecessor:l.v},n=!0)},u=function(){o.forEach(function(l){t(l).forEach(function(_){var q=_.v===l?_.v:_.w,Oe=q===_.v?_.w:_.v;h({v:q,w:Oe})})})};o.forEach(function(l){var _=l===e?0:Number.POSITIVE_INFINITY;i[l]={distance:_}});for(var f=o.length,p=1;p<f&&(n=!1,a++,u(),!!n);p++);if(a===f-1&&(n=!1,u(),n))throw new Error("The graph contains a negative weight cycle");return i}});var Y=d((gr,W)=>{W.exports=Ae;function Ae(s){var e={},r=[],t;function i(n){Object.hasOwn(e,n)||(e[n]=!0,t.push(n),s.successors(n).forEach(i),s.predecessors(n).forEach(i))}return s.nodes().forEach(function(n){t=[],i(n),t.length&&r.push(t)}),r}});var j=d((wr,z)=>{var N=class{constructor(){c(this,"_arr",[]);c(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return Object.hasOwn(this._keyIndices,e)}priority(e){var r=this._keyIndices[e];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(e,r){var t=this._keyIndices;if(e=String(e),!Object.hasOwn(t,e)){var i=this._arr,n=i.length;return t[e]=n,i.push({key:e,priority:r}),this._decrease(n),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,r){var t=this._keyIndices[e];if(r>this._arr[t].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[t].priority+" New: "+r);this._arr[t].priority=r,this._decrease(t)}_heapify(e){var r=this._arr,t=2*e,i=t+1,n=e;t<r.length&&(n=r[t].priority<r[n].priority?t:n,i<r.length&&(n=r[i].priority<r[n].priority?i:n),n!==e&&(this._swap(e,n),this._heapify(n)))}_decrease(e){for(var r=this._arr,t=r[e].priority,i;e!==0&&(i=e>>1,!(r[i].priority<t));)this._swap(e,i),e=i}_swap(e,r){var t=this._arr,i=this._keyIndices,n=t[e],a=t[r];t[e]=a,t[r]=n,i[a.key]=e,i[n.key]=r}};z.exports=N});var b=d((mr,H)=>{var Pe=j();H.exports=Se;var Me=()=>1;function Se(s,e,r,t){var i=function(n){return s.outEdges(n)};return Ge(s,String(e),r||Me,t||i)}function Ge(s,e,r,t){var i={},n=new Pe,a,o,h=function(u){var f=u.v!==a?u.v:u.w,p=i[f],l=r(u),_=o.distance+l;if(l<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+l);_<p.distance&&(p.distance=_,p.predecessor=a,n.decrease(f,_))};for(s.nodes().forEach(function(u){var f=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:f},n.add(u,f)});n.size()>0&&(a=n.removeMin(),o=i[a],o.distance!==Number.POSITIVE_INFINITY);)t(a).forEach(h);return i}});var R=d((Or,K)=>{var Ve=b();K.exports=Ue;function Ue(s,e,r){return s.nodes().reduce(function(t,i){return t[i]=Ve(s,i,e,r),t},{})}});var Q=d((yr,B)=>{B.exports=We;function We(s,e,r){if(s[e].predecessor!==void 0)throw new Error("Invalid source vertex");if(s[r].predecessor===void 0&&r!==e)throw new Error("Invalid destination vertex");return{weight:s[r].distance,path:Ye(s,e,r)}}function Ye(s,e,r){for(var t=[],i=r;i!==e;)t.push(i),i=s[i].predecessor;return t.push(e),t.reverse()}});var I=d((Nr,J)=>{J.exports=ze;function ze(s){var e=0,r=[],t={},i=[];function n(a){var o=t[a]={onStack:!0,lowlink:e,index:e++};if(r.push(a),s.successors(a).forEach(function(f){Object.hasOwn(t,f)?t[f].onStack&&(o.lowlink=Math.min(o.lowlink,t[f].index)):(n(f),o.lowlink=Math.min(o.lowlink,t[f].lowlink))}),o.lowlink===o.index){var h=[],u;do u=r.pop(),t[u].onStack=!1,h.push(u);while(a!==u);i.push(h)}}return s.nodes().forEach(function(a){Object.hasOwn(t,a)||n(a)}),i}});var Z=d((jr,X)=>{var He=I();X.exports=Ke;function Ke(s){return He(s).filter(function(e){return e.length>1||e.length===1&&s.hasEdge(e[0],e[0])})}});var ee=d((Ir,$)=>{$.exports=Be;var Re=()=>1;function Be(s,e,r){return Qe(s,e||Re,r||function(t){return s.outEdges(t)})}function Qe(s,e,r){var t={},i=s.nodes();return i.forEach(function(n){t[n]={},t[n][n]={distance:0},i.forEach(function(a){n!==a&&(t[n][a]={distance:Number.POSITIVE_INFINITY})}),r(n).forEach(function(a){var o=a.v===n?a.w:a.v,h=e(a);t[n][o]={distance:h,predecessor:n}})}),i.forEach(function(n){var a=t[n];i.forEach(function(o){var h=t[o];i.forEach(function(u){var f=h[n],p=a[u],l=h[u],_=f.distance+p.distance;_<l.distance&&(l.distance=_,l.predecessor=p.predecessor)})})}),t}});var k=d((kr,te)=>{function re(s){var e={},r={},t=[];function i(n){if(Object.hasOwn(r,n))throw new g;Object.hasOwn(e,n)||(r[n]=!0,e[n]=!0,s.predecessors(n).forEach(i),delete r[n],t.push(n))}if(s.sinks().forEach(i),Object.keys(e).length!==s.nodeCount())throw new g;return t}var g=class extends Error{constructor(){super(...arguments)}};te.exports=re;re.CycleException=g});var ne=d((xr,se)=>{var ie=k();se.exports=Je;function Je(s){try{ie(s)}catch(e){if(e instanceof ie.CycleException)return!1;throw e}return!0}});var x=d((Cr,oe)=>{oe.exports=Xe;function Xe(s,e,r,t,i){Array.isArray(e)||(e=[e]);var n=(s.isDirected()?s.successors:s.neighbors).bind(s),a={};return e.forEach(function(o){if(!s.hasNode(o))throw new Error("Graph does not have node: "+o);i=ae(s,o,r==="post",a,n,t,i)}),i}function ae(s,e,r,t,i,n,a){return Object.hasOwn(t,e)||(t[e]=!0,r||(a=n(a,e)),i(e).forEach(function(o){a=ae(s,o,r,t,i,n,a)}),r&&(a=n(a,e))),a}});var C=d((qr,ue)=>{var Ze=x();ue.exports=$e;function $e(s,e,r){return Ze(s,e,r,function(t,i){return t.push(i),t},[])}});var de=d((Dr,he)=>{var er=C();he.exports=rr;function rr(s,e){return er(s,e,"post")}});var ce=d((Lr,fe)=>{var tr=C();fe.exports=ir;function ir(s,e){return tr(s,e,"pre")}});var _e=d((Fr,le)=>{var sr=w(),nr=j();le.exports=ar;function ar(s,e){var r=new sr,t={},i=new nr,n;function a(h){var u=h.v===n?h.w:h.v,f=i.priority(u);if(f!==void 0){var p=e(h);p<f&&(t[u]=n,i.decrease(u,p))}}if(s.nodeCount()===0)return r;s.nodes().forEach(function(h){i.add(h,Number.POSITIVE_INFINITY),r.setNode(h)}),i.decrease(s.nodes()[0],0);for(var o=!1;i.size()>0;){if(n=i.removeMin(),Object.hasOwn(t,n))r.setEdge(n,t[n]);else{if(o)throw new Error("Input graph is not connected: "+s);o=!0}s.nodeEdges(n).forEach(a)}return r}});var Ee=d((Tr,ve)=>{var pe=b(),or=y();ve.exports=ur;function ur(s,e,r,t){return hr(s,e,r,t||function(i){return s.outEdges(i)})}function hr(s,e,r,t){if(r===void 0)return pe(s,e,r,t);for(var i=!1,n=s.nodes(),a=0;a<n.length;a++){for(var o=t(n[a]),h=0;h<o.length;h++){var u=o[h],f=u.v===n[a]?u.v:u.w,p=f===u.v?u.w:u.v;r({v:f,w:p})<0&&(i=!0)}if(i)return or(s,e,r,t)}return pe(s,e,r,t)}});var we=d((Ar,ge)=>{ge.exports={bellmanFord:y(),components:Y(),dijkstra:b(),dijkstraAll:R(),extractPath:Q(),findCycles:Z(),floydWarshall:ee(),isAcyclic:ne(),postorder:de(),preorder:ce(),prim:_e(),shortestPaths:Ee(),reduce:x(),tarjan:I(),topsort:k()}});var dr=d((Pr,me)=>{var be=S();me.exports={Graph:be.Graph,json:V(),alg:we(),version:be.version}});return dr();})();
//# sourceMappingURL=graphlib.min.js.map
